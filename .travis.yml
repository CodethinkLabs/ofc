language: c

git:
    depth: 1
    submodules: false

# whitelist
branches:
    only:
        - master

addons:
    apt:
        sources:
            - ubuntu-toolchain-r-test
        packages:
            - gcc-4.8
            - valgrind

compiler:
    - gcc-4.8

before_install:
    # Replace the SSH URL with the public URL and initialize submodules
    - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
    - git submodule update --init --recursive

script:
    - make
